<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_13) on Thu Mar 11 16:05:42 EET 2010 -->
<TITLE>
EnergyAwareRouter
</TITLE>

<META NAME="date" CONTENT="2010-03-11">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="EnergyAwareRouter";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../routing/DirectDeliveryRouter.html" title="class in routing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../routing/EpidemicRouter.html" title="class in routing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?routing/EnergyAwareRouter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="EnergyAwareRouter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
routing</FONT>
<BR>
Class EnergyAwareRouter</H2>
<PRE>
java.lang.Object
  <IMG SRC="../resources/inherit.gif" ALT="extended by "><A HREF="../routing/MessageRouter.html" title="class in routing">routing.MessageRouter</A>
      <IMG SRC="../resources/inherit.gif" ALT="extended by "><A HREF="../routing/ActiveRouter.html" title="class in routing">routing.ActiveRouter</A>
          <IMG SRC="../resources/inherit.gif" ALT="extended by "><B>routing.EnergyAwareRouter</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../core/ModuleCommunicationListener.html" title="interface in core">ModuleCommunicationListener</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>EnergyAwareRouter</B><DT>extends <A HREF="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</A><DT>implements <A HREF="../core/ModuleCommunicationListener.html" title="interface in core">ModuleCommunicationListener</A></DL>
</PRE>

<P>
Energy level-aware variant of Epidemic router.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#ENERGY_VALUE_ID">ENERGY_VALUE_ID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../core/ModuleCommunicationBus.html" title="class in core"><CODE>ModuleCommunicationBus</CODE></A> identifier for the "current amount of 
 energy left" variable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#INIT_ENERGY_S">INIT_ENERGY_S</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initial units of energy -setting id ("intialEnergy").</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#SCAN_ENERGY_S">SCAN_ENERGY_S</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Energy usage per scanning -setting id ("scanEnergy").</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#TRANSMIT_ENERGY_S">TRANSMIT_ENERGY_S</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Energy usage per second when sending -setting id ("transmitEnergy").</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#WARMUP_S">WARMUP_S</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Energy update warmup period -setting id ("energyWarmup").</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_routing.ActiveRouter"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class routing.<A HREF="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../routing/ActiveRouter.html#DELETE_DELIVERED_S">DELETE_DELIVERED_S</A>, <A HREF="../routing/ActiveRouter.html#deleteDelivered">deleteDelivered</A>, <A HREF="../routing/ActiveRouter.html#RESPONSE_PREFIX">RESPONSE_PREFIX</A>, <A HREF="../routing/ActiveRouter.html#sendingConnections">sendingConnections</A>, <A HREF="../routing/ActiveRouter.html#TTL_CHECK_INTERVAL">TTL_CHECK_INTERVAL</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_routing.MessageRouter"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class routing.<A HREF="../routing/MessageRouter.html" title="class in routing">MessageRouter</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../routing/MessageRouter.html#B_SIZE_S">B_SIZE_S</A>, <A HREF="../routing/MessageRouter.html#DENIED_NO_SPACE">DENIED_NO_SPACE</A>, <A HREF="../routing/MessageRouter.html#DENIED_OLD">DENIED_OLD</A>, <A HREF="../routing/MessageRouter.html#DENIED_TTL">DENIED_TTL</A>, <A HREF="../routing/MessageRouter.html#DENIED_UNSPECIFIED">DENIED_UNSPECIFIED</A>, <A HREF="../routing/MessageRouter.html#MSG_TTL_S">MSG_TTL_S</A>, <A HREF="../routing/MessageRouter.html#msgTtl">msgTtl</A>, <A HREF="../routing/MessageRouter.html#Q_MODE_FIFO">Q_MODE_FIFO</A>, <A HREF="../routing/MessageRouter.html#Q_MODE_RANDOM">Q_MODE_RANDOM</A>, <A HREF="../routing/MessageRouter.html#RCV_OK">RCV_OK</A>, <A HREF="../routing/MessageRouter.html#SEND_QUEUE_MODE_S">SEND_QUEUE_MODE_S</A>, <A HREF="../routing/MessageRouter.html#TRY_LATER_BUSY">TRY_LATER_BUSY</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#EnergyAwareRouter(routing.EnergyAwareRouter)">EnergyAwareRouter</A></B>(<A HREF="../routing/EnergyAwareRouter.html" title="class in routing">EnergyAwareRouter</A>&nbsp;r)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copy constructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#EnergyAwareRouter(core.Settings)">EnergyAwareRouter</A></B>(<A HREF="../core/Settings.html" title="class in core">Settings</A>&nbsp;s)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#checkReceiving(core.Message)">checkReceiving</A></B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if router "wants" to start receiving message (i.e.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#moduleValueChanged(java.lang.String, java.lang.Object)">moduleValueChanged</A></B>(java.lang.String&nbsp;key,
                   java.lang.Object&nbsp;newValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by the combus is the energy value is changed</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#reduceEnergy(double)">reduceEnergy</A></B>(double&nbsp;amount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates the current energy so that the given amount is reduced from it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#reduceSendingAndScanningEnergy()">reduceSendingAndScanningEnergy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reduces the energy reserve for the amount that is used by sending data
 and scanning for the other nodes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../routing/EnergyAwareRouter.html" title="class in routing">EnergyAwareRouter</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#replicate()">replicate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a replicate of this router.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#setEnergy(double[])">setEnergy</A></B>(double[]&nbsp;range)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the current energy level into the given range using uniform 
 random distribution.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a String presentation of this router</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/EnergyAwareRouter.html#update()">update</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks out all sending connections to finalize the ready ones 
 and abort those whose connection went down.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_routing.ActiveRouter"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class routing.<A HREF="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../routing/ActiveRouter.html#addToSendingConnections(core.Connection)">addToSendingConnections</A>, <A HREF="../routing/ActiveRouter.html#canStartTransfer()">canStartTransfer</A>, <A HREF="../routing/ActiveRouter.html#changedConnection(core.Connection)">changedConnection</A>, <A HREF="../routing/ActiveRouter.html#createNewMessage(core.Message)">createNewMessage</A>, <A HREF="../routing/ActiveRouter.html#dropExpiredMessages()">dropExpiredMessages</A>, <A HREF="../routing/ActiveRouter.html#exchangeDeliverableMessages()">exchangeDeliverableMessages</A>, <A HREF="../routing/ActiveRouter.html#getConnections()">getConnections</A>, <A HREF="../routing/ActiveRouter.html#getMessagesForConnected()">getMessagesForConnected</A>, <A HREF="../routing/ActiveRouter.html#getOldestMessage(boolean)">getOldestMessage</A>, <A HREF="../routing/ActiveRouter.html#init(core.DTNHost, java.util.List)">init</A>, <A HREF="../routing/ActiveRouter.html#isSending(java.lang.String)">isSending</A>, <A HREF="../routing/ActiveRouter.html#isTransferring()">isTransferring</A>, <A HREF="../routing/ActiveRouter.html#makeRoomForMessage(int)">makeRoomForMessage</A>, <A HREF="../routing/ActiveRouter.html#makeRoomForNewMessage(int)">makeRoomForNewMessage</A>, <A HREF="../routing/ActiveRouter.html#messageTransferred(java.lang.String, core.DTNHost)">messageTransferred</A>, <A HREF="../routing/ActiveRouter.html#receiveMessage(core.Message, core.DTNHost)">receiveMessage</A>, <A HREF="../routing/ActiveRouter.html#requestDeliverableMessages(core.Connection)">requestDeliverableMessages</A>, <A HREF="../routing/ActiveRouter.html#shuffleMessages(java.util.List)">shuffleMessages</A>, <A HREF="../routing/ActiveRouter.html#startTransfer(core.Message, core.Connection)">startTransfer</A>, <A HREF="../routing/ActiveRouter.html#transferAborted(core.Connection)">transferAborted</A>, <A HREF="../routing/ActiveRouter.html#transferDone(core.Connection)">transferDone</A>, <A HREF="../routing/ActiveRouter.html#tryAllMessages(core.Connection, java.util.List)">tryAllMessages</A>, <A HREF="../routing/ActiveRouter.html#tryAllMessagesToAllConnections()">tryAllMessagesToAllConnections</A>, <A HREF="../routing/ActiveRouter.html#tryMessagesForConnected(java.util.List)">tryMessagesForConnected</A>, <A HREF="../routing/ActiveRouter.html#tryMessagesToConnections(java.util.List, java.util.List)">tryMessagesToConnections</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_routing.MessageRouter"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class routing.<A HREF="../routing/MessageRouter.html" title="class in routing">MessageRouter</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../routing/MessageRouter.html#addToMessages(core.Message, boolean)">addToMessages</A>, <A HREF="../routing/MessageRouter.html#compareByQueueMode(core.Message, core.Message)">compareByQueueMode</A>, <A HREF="../routing/MessageRouter.html#deleteMessage(java.lang.String, boolean)">deleteMessage</A>, <A HREF="../routing/MessageRouter.html#getBufferSize()">getBufferSize</A>, <A HREF="../routing/MessageRouter.html#getFreeBufferSize()">getFreeBufferSize</A>, <A HREF="../routing/MessageRouter.html#getHost()">getHost</A>, <A HREF="../routing/MessageRouter.html#getMessage(java.lang.String)">getMessage</A>, <A HREF="../routing/MessageRouter.html#getMessageCollection()">getMessageCollection</A>, <A HREF="../routing/MessageRouter.html#getNrofMessages()">getNrofMessages</A>, <A HREF="../routing/MessageRouter.html#getRoutingInfo()">getRoutingInfo</A>, <A HREF="../routing/MessageRouter.html#hasMessage(java.lang.String)">hasMessage</A>, <A HREF="../routing/MessageRouter.html#isDeliveredMessage(core.Message)">isDeliveredMessage</A>, <A HREF="../routing/MessageRouter.html#messageAborted(java.lang.String, core.DTNHost, int)">messageAborted</A>, <A HREF="../routing/MessageRouter.html#putToIncomingBuffer(core.Message, core.DTNHost)">putToIncomingBuffer</A>, <A HREF="../routing/MessageRouter.html#removeFromIncomingBuffer(java.lang.String, core.DTNHost)">removeFromIncomingBuffer</A>, <A HREF="../routing/MessageRouter.html#removeFromMessages(java.lang.String)">removeFromMessages</A>, <A HREF="../routing/MessageRouter.html#sendMessage(java.lang.String, core.DTNHost)">sendMessage</A>, <A HREF="../routing/MessageRouter.html#sortByQueueMode(java.util.List)">sortByQueueMode</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="INIT_ENERGY_S"><!-- --></A><H3>
INIT_ENERGY_S</H3>
<PRE>
public static final java.lang.String <B>INIT_ENERGY_S</B></PRE>
<DL>
<DD>Initial units of energy -setting id ("intialEnergy"). Can be either a 
 single value, or a range of two values. In the latter case, the used
 value is a uniformly distributed random value between the two values.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.EnergyAwareRouter.INIT_ENERGY_S">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="SCAN_ENERGY_S"><!-- --></A><H3>
SCAN_ENERGY_S</H3>
<PRE>
public static final java.lang.String <B>SCAN_ENERGY_S</B></PRE>
<DL>
<DD>Energy usage per scanning -setting id ("scanEnergy").
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.EnergyAwareRouter.SCAN_ENERGY_S">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="TRANSMIT_ENERGY_S"><!-- --></A><H3>
TRANSMIT_ENERGY_S</H3>
<PRE>
public static final java.lang.String <B>TRANSMIT_ENERGY_S</B></PRE>
<DL>
<DD>Energy usage per second when sending -setting id ("transmitEnergy").
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.EnergyAwareRouter.TRANSMIT_ENERGY_S">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="WARMUP_S"><!-- --></A><H3>
WARMUP_S</H3>
<PRE>
public static final java.lang.String <B>WARMUP_S</B></PRE>
<DL>
<DD>Energy update warmup period -setting id ("energyWarmup"). Defines the 
 simulation time after which the energy level starts to decrease due to 
 scanning, transmissions, etc. Default value = 0. If value of "-1" is 
 defined, uses the value from the report warmup setting 
 <A HREF="../report/Report.html#WARMUP_S"><CODE>Report.WARMUP_S</CODE></A> from the namespace 
 <A HREF="../report/Report.html#REPORT_NS">"Report"</A>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.EnergyAwareRouter.WARMUP_S">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ENERGY_VALUE_ID"><!-- --></A><H3>
ENERGY_VALUE_ID</H3>
<PRE>
public static final java.lang.String <B>ENERGY_VALUE_ID</B></PRE>
<DL>
<DD><A HREF="../core/ModuleCommunicationBus.html" title="class in core"><CODE>ModuleCommunicationBus</CODE></A> identifier for the "current amount of 
 energy left" variable. Value type: double
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.EnergyAwareRouter.ENERGY_VALUE_ID">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="EnergyAwareRouter(core.Settings)"><!-- --></A><H3>
EnergyAwareRouter</H3>
<PRE>
public <B>EnergyAwareRouter</B>(<A HREF="../core/Settings.html" title="class in core">Settings</A>&nbsp;s)</PRE>
<DL>
<DD>Constructor. Creates a new message router based on the settings in
 the given Settings object.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>s</CODE> - The settings object</DL>
</DL>
<HR>

<A NAME="EnergyAwareRouter(routing.EnergyAwareRouter)"><!-- --></A><H3>
EnergyAwareRouter</H3>
<PRE>
protected <B>EnergyAwareRouter</B>(<A HREF="../routing/EnergyAwareRouter.html" title="class in routing">EnergyAwareRouter</A>&nbsp;r)</PRE>
<DL>
<DD>Copy constructor.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>r</CODE> - The router prototype where setting values are copied from</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setEnergy(double[])"><!-- --></A><H3>
setEnergy</H3>
<PRE>
protected void <B>setEnergy</B>(double[]&nbsp;range)</PRE>
<DL>
<DD>Sets the current energy level into the given range using uniform 
 random distribution.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>range</CODE> - The min and max values of the range, or if only one value
 is given, that is used as the energy level</DL>
</DD>
</DL>
<HR>

<A NAME="checkReceiving(core.Message)"><!-- --></A><H3>
checkReceiving</H3>
<PRE>
protected int <B>checkReceiving</B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../routing/ActiveRouter.html#checkReceiving(core.Message)">ActiveRouter</A></CODE></B></DD>
<DD>Checks if router "wants" to start receiving message (i.e. router 
 isn't transferring, doesn't have the message and has room for it).
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../routing/ActiveRouter.html#checkReceiving(core.Message)">checkReceiving</A></CODE> in class <CODE><A HREF="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>m</CODE> - The message to check
<DT><B>Returns:</B><DD>A return code similar to 
 <A HREF="../routing/MessageRouter.html#receiveMessage(core.Message, core.DTNHost)"><CODE>MessageRouter.receiveMessage(Message, DTNHost)</CODE></A>, i.e. 
 <A HREF="../routing/MessageRouter.html#RCV_OK"><CODE>MessageRouter.RCV_OK</CODE></A> if receiving seems to be OK, 
 TRY_LATER_BUSY if router is transferring, DENIED_OLD if the router
 is already carrying the message or it has been delivered to
 this router (as final recipient), or DENIED_NO_SPACE if the message
 does not fit into buffer</DL>
</DD>
</DL>
<HR>

<A NAME="reduceEnergy(double)"><!-- --></A><H3>
reduceEnergy</H3>
<PRE>
protected void <B>reduceEnergy</B>(double&nbsp;amount)</PRE>
<DL>
<DD>Updates the current energy so that the given amount is reduced from it.
 If the energy level goes below zero, sets the level to zero.
 Does nothing if the warmup time has not passed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>amount</CODE> - The amount of energy to reduce</DL>
</DD>
</DL>
<HR>

<A NAME="reduceSendingAndScanningEnergy()"><!-- --></A><H3>
reduceSendingAndScanningEnergy</H3>
<PRE>
protected void <B>reduceSendingAndScanningEnergy</B>()</PRE>
<DL>
<DD>Reduces the energy reserve for the amount that is used by sending data
 and scanning for the other nodes.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="update()"><!-- --></A><H3>
update</H3>
<PRE>
public void <B>update</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../routing/ActiveRouter.html#update()">ActiveRouter</A></CODE></B></DD>
<DD>Checks out all sending connections to finalize the ready ones 
 and abort those whose connection went down. Also drops messages
 whose TTL <= 0 (checking every one simulated minute).
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../routing/ActiveRouter.html#update()">update</A></CODE> in class <CODE><A HREF="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../routing/ActiveRouter.html#addToSendingConnections(core.Connection)"><CODE>ActiveRouter.addToSendingConnections(Connection)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="replicate()"><!-- --></A><H3>
replicate</H3>
<PRE>
public <A HREF="../routing/EnergyAwareRouter.html" title="class in routing">EnergyAwareRouter</A> <B>replicate</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../routing/MessageRouter.html#replicate()">MessageRouter</A></CODE></B></DD>
<DD>Creates a replicate of this router. The replicate has the same
 settings as this router but empty buffers and routing tables.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../routing/MessageRouter.html#replicate()">replicate</A></CODE> in class <CODE><A HREF="../routing/MessageRouter.html" title="class in routing">MessageRouter</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The replicate</DL>
</DD>
</DL>
<HR>

<A NAME="moduleValueChanged(java.lang.String, java.lang.Object)"><!-- --></A><H3>
moduleValueChanged</H3>
<PRE>
public void <B>moduleValueChanged</B>(java.lang.String&nbsp;key,
                               java.lang.Object&nbsp;newValue)</PRE>
<DL>
<DD>Called by the combus is the energy value is changed
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../core/ModuleCommunicationListener.html#moduleValueChanged(java.lang.String, java.lang.Object)">moduleValueChanged</A></CODE> in interface <CODE><A HREF="../core/ModuleCommunicationListener.html" title="interface in core">ModuleCommunicationListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - The energy ID<DD><CODE>newValue</CODE> - The new energy value</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../routing/MessageRouter.html#toString()">MessageRouter</A></CODE></B></DD>
<DD>Returns a String presentation of this router
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../routing/MessageRouter.html#toString()">toString</A></CODE> in class <CODE><A HREF="../routing/MessageRouter.html" title="class in routing">MessageRouter</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>A String presentation of this router</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../routing/DirectDeliveryRouter.html" title="class in routing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../routing/EpidemicRouter.html" title="class in routing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?routing/EnergyAwareRouter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="EnergyAwareRouter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
